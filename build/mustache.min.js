!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.mustache=t():e.mustache=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{mustache:()=>v});const n=Object.prototype.toString,r=Array.isArray||function(e){return"[object Array]"===n.call(e)};function s(e){return"function"==typeof e}function o(e,t){return null!=e&&"object"==typeof e&&t in e}class i{constructor(e){this.string=e,this.tail=e,this.pos=0}eos(){return""===this.tail}scan(e){const t=this.tail.match(e);if(!t||0!==t.index)return"";const n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n}scanUntil(e){const t=this.tail.search(e);let n;switch(t){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=n.length,n}}class a{constructor(e,t){this.view=e,this.cache={".":this.view},this.parent=t}push(e){return new a(e,this)}lookup(e){const t=this.cache;let n;if(t.hasOwnProperty(e))n=t[e];else{let s,a,c,l=this,h=!1;for(;l;){if(e.indexOf(".")>0)for(s=l.view,a=e.split("."),c=0;null!=s&&c<a.length;)c===a.length-1&&(h=o(s,a[c])||(r=s,i=a[c],null!=r&&"object"!=typeof r&&r.hasProperty&&r.hasProperty(i))),s=s[a[c++]];else s=l.view[e],h=o(l.view,e);if(h){n=s;break}l=l.parent}t[e]=n}var r,i;return s(n)&&(n=n.call(this.view)),n}}function c(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const l=RegExp.prototype.test;const h=/\S/;function u(e){return!function(e,t){return l.call(e,t)}(h,e)}const p=/\s*/,f=/\s+/,g=/\s*=/,d=/\s*\}/,w=/#|\^|\/|>|\{|&|=|!/;class b{constructor(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}clearCache(){void 0!==this.templateCache&&this.templateCache.clear()}parse(e,t){const n=this.templateCache,s=e+":"+(t||v.tags).join(":"),o=void 0!==n;let a=o?n.get(s):void 0;return null==a&&(a=function(e,t){if(!e)return[];let n=!1;const s=[],o=[];let a,l,h,b=[],y=!1,m=!1,k="",x=0;function C(){if(y&&!m)for(;b.length;)delete o[b.pop()];else b=[];y=!1,m=!1}function j(e){if("string"==typeof e&&(e=e.split(f,2)),!r(e)&&2!==e.length)throw new Error("Invalid tags: "+e);a=new RegExp(c(e[0])+"\\s*"),l=new RegExp("\\s*"+c(e[1])),h=new RegExp("\\s*"+c("}"+e[1]))}j(t||v.tags);const T=new i(e);let E,S,P,U,O,V;for(;!T.eos();){if(E=T.pos,P=T.scanUntil(a),P)for(let e=0,t=P.length;e<t;++e)U=P.charAt(e),u(U)?(b.push(o.length),k+=U):(m=!0,n=!0,k+=" "),o.push(["text",U,E,E+1]),E+=1,"\n"===U&&(C(),k="",x=0,n=!1);if(!T.scan(a))break;if(y=!0,S=T.scan(w)||"name",T.scan(p),"="===S?(P=T.scanUntil(g),T.scan(g),T.scanUntil(l)):"{"===S?(P=T.scanUntil(h),T.scan(d),T.scanUntil(l),S="&"):P=T.scanUntil(l),!T.scan(l))throw new Error("Unclosed tag at "+T.pos);if(O=">"===S?[S,P,E,T.pos,k,x,n]:[S,P,E,T.pos],x++,o.push(O),"#"===S||"^"===S)s.push(O);else if("/"===S){if(V=s.pop(),!V)throw new Error('Unopened section "'+P+'" at '+E);if(V[1]!==P)throw new Error('Unclosed section "'+V[1]+'" at '+E)}else"name"===S||"{"===S||"&"===S?m=!0:"="===S&&j(P)}if(C(),V=s.pop(),V)throw new Error('Unclosed section "'+V[1]+'" at '+T.pos);return function(e){const t=[];let n=t;const r=[];let s,o;for(let i=0,a=e.length;i<a;++i)switch(s=e[i],s[0]){case"#":case"^":n.push(s),r.push(s),n=s[4]=[];break;case"/":o=r.pop(),o[5]=s[2],n=r.length>0?r[r.length-1][4]:t;break;default:n.push(s)}return t}(function(e){const t=[];let n,r;for(let s=0,o=e.length;s<o;++s)n=e[s],n&&("text"===n[0]&&r&&"text"===r[0]?(r[1]+=n[1],r[3]=n[3]):(t.push(n),r=n));return t}(o))}(e,t),o&&n.set(s,a)),a}render(e,t,n,r){const s=this.getConfigTags(r),o=this.parse(e,s),i=t instanceof a?t:new a(t,void 0);return this.renderTokens(o,i,n,e,r)}renderTokens(e,t,n,r,s){let o,i,a,c="";for(let l=0,h=e.length;l<h;++l){switch(a=void 0,o=e[l],i=o[0],i){case"#":a=this.renderSection(o,t,n,r,s);break;case"^":a=this.renderInverted(o,t,n,r,s);break;case">":a=this.renderPartial(o,t,n,s);break;case"&":a=this.unescapedValue(o,t);break;case"name":a=this.escapedValue(o,t,s);break;case"text":a=this.rawValue(o)}void 0!==a&&(c+=a)}return c}renderSection(e,t,n,o,i){const a=this;let c="",l=t.lookup(e[1]);if(l){if(r(l))for(let r=0,s=l.length;r<s;++r)c+=this.renderTokens(e[4],t.push(l[r]),n,o,i);else if(["object","string","number"].includes(typeof l))c+=this.renderTokens(e[4],t.push(l),n,o,i);else if(s(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");l=l.call(t.view,o.slice(e[3],e[5]),(function(e){return a.render(e,t,n,i)})),null!=l&&(c+=l)}else c+=this.renderTokens(e[4],t,n,o,i);return c}}renderInverted(e,t,n,s,o){const i=t.lookup(e[1]);if(!i||r(i)&&0===i.length)return this.renderTokens(e[4],t,n,s,o)}indentPartial(e,t,n){const r=t.replace(/[^ \t]/g,""),s=e.split("\n");for(let e=0;e<s.length;e++)s[e].length&&(e>0||!n)&&(s[e]=r+s[e]);return s.join("\n")}renderPartial(e,t,n,r){if(!n)return;const o=this.getConfigTags(r),i=s(n)?n(e[1]):n[e[1]];if(null!=i){const s=e[6],a=e[5],c=e[4];let l=i;0===a&&c&&(l=this.indentPartial(i,c,s));const h=this.parse(l,o);return this.renderTokens(h,t,n,l,r)}}unescapedValue(e,t){const n=t.lookup(e[1]);if(null!=n)return n}escapedValue(e,t,n){const r=this.getConfigEscape(n)||v.escape,s=t.lookup(e[1]);if(null!=s)return"number"==typeof s&&r===v.escape?String(s):r(s)}rawValue(e){return e[1]}getConfigTags(e){return r(e)?e:e&&"object"==typeof e?e.tags:void 0}getConfigEscape(e){return e&&"object"==typeof e&&!r(e)?e.escape:void 0}}const y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};const m=new b,v={name:"mustache.js",version:"?.?.?",tags:["{{","}}"],clearCache:()=>m.clearCache(),escape:function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return y[e]}))},parse:(e,t)=>m.parse(e,t),render(e,t,n,s){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+((r(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)'));var o;return m.render(e,t,n,s)},Scanner:i,Context:a,Writer:b,set templateCache(e){m.templateCache=e},get templateCache(){return m.templateCache}};return t})()));
//# sourceMappingURL=mustache.min.js.map